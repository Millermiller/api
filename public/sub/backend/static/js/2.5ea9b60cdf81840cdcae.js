webpackJsonp([2,5,15],{520:function(t,e,s){var a=s(0)(s(539),s(540),null,null,null);t.exports=a.exports},521:function(t,e,s){var a=s(0)(s(541),s(542),null,null,null);t.exports=a.exports},526:function(t,e,s){var a=s(0)(s(549),s(550),null,null,null);t.exports=a.exports},539:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["item","index"],data:function(){return{}},methods:{}}},540:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"columns"},[s("div",{staticClass:"column is-6"},[s("p",{staticClass:"control content"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.item.text,expression:"item.text"}],staticClass:"textarea",attrs:{placeholder:"оригинал"},domProps:{value:t.item.text},on:{input:function(e){e.target.composing||t.$set(t.item,"text",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"column is-5"},[s("p",{staticClass:"control content"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.item.value,expression:"item.value"}],staticClass:"textarea",attrs:{placeholder:"оригинал"},domProps:{value:t.item.value},on:{input:function(e){e.target.composing||t.$set(t.item,"value",e.target.value)}}})])]),t._v(" "),s("div",{staticClass:"column is-1"},[s("a",{class:["button","is-danger","is-small"],on:{click:function(e){t.$emit("remove",t.index)}}},[t._m(0)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon"},[e("i",{staticClass:"fa fa-trash-o"})])}]}},541:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,i=s(520),n=(a=i)&&a.__esModule?a:{default:a};e.default={data:function(){return{fileUploadFormData:new FormData,text:"",values:[],examples:[]}},components:{Example:n.default},props:["visible","card","index"],methods:{bindFile:function(t){t.preventDefault(),this.fileUploadFormData.append("audiofile",t.target.files[0]),this.fileUploadFormData.append("id",this.card.word.id)},close:function(){this.$emit("close")},updateAudio:function(){var t=this;this.$http.post("/admin/audio",this.fileUploadFormData).then(function(e){e.body.success&&t.$store.commit("changeAssetAudio",{index:t.index,url:e.body.url})},function(t){console.log(t)})},updateTranslate:function(){var t=this;this.$http.post("/admin/translate",{card_id:this.card.id,id:this.card.translate.id,text:this.text,examples:this.examples}).then(function(e){e.body.success&&t.$store.commit("changeAssetWord",{index:t.index,text:t.text}),t.close()},function(t){console.log(t)})},setActive:function(t){var e=this;this.$http.post("/admin/changeUsedTranslate",{card_id:this.card.id,word_id:this.card.word.id,translate_id:t.id}).then(function(s){if(s.body.success){for(var a in e.text=t.value,e.values)e.values[a].active=!1;t.active=!0,e.$store.commit("changeAssetTranslate",{index:e.index,translate:t}),e.close()}},function(t){console.log(t)})},play:function(){this.$refs.audio.play()},addExample:function(){this.examples.push({text:"",value:""})},removeExample:function(t){this.examples.splice(t,1)}},watch:{visible:function(t){var e=this;t&&(this.$http.get("/admin/values/"+this.card.word_id).then(function(t){for(var s in e.values=t.body.values,e.values)e.values[s].id===e.card.translate_id&&(e.values[s].active=!0)},function(t){console.log(t)}),this.$http.get("/admin/examples/"+this.card.id).then(function(t){e.examples=t.body.values},function(t){console.log(t)}))}},mounted:function(){this.text=this.card.translate?this.card.translate.value:""}}},542:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-modal",{attrs:{active:t.visible},on:{"update:active":function(e){t.visible=e},close:t.close}},[s("div",{staticClass:"box"},[s("div",{staticClass:"header"},[t._v(t._s(t.card.id)+" - "+t._s(t.card.word.word))]),t._v(" "),s("div",{staticClass:"translate-section"},[s("p",{staticClass:"control"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"input",staticStyle:{width:"490px"},attrs:{type:"text",placeholder:"text"},domProps:{value:t.card.word.word,value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}})]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"variants"},[s("h2",{staticClass:"subtitle is-5"},[t._v("Варианты перевода:")]),t._v(" "),s("ul",t._l(t.values,function(e){return s("li",{class:["variant",{"is-success":e.active}],on:{click:function(s){t.setActive(e)}}},[t._v("\n                        "+t._s(e.value)+"\n                    ")])}))])]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"example-section"},[s("h2",{staticClass:"subtitle is-5"},[t._v("\n                Примеры: "),s("span",{staticClass:"button is-success pull-right",on:{click:t.addExample}},[t._v("добавить")])]),t._v(" "),s("div",t._l(t.examples,function(e,a){return s("example",{key:e.id,attrs:{item:e,index:a},on:{remove:t.removeExample}})}))]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"audio-section"},[s("audio",{ref:"audio",attrs:{src:t.card.word.audio,preload:"auto"}}),t._v(" "),s("a",{class:["button","is-small"],on:{click:t.play}},[s("span",{staticClass:"icon"},[s("i",{staticClass:"fa fa-volume-up"})])]),t._v(" "),s("form",{ref:"audioform",attrs:{enctype:"multipart/form-data",action:"",method:"post",name:"addAudio"}},[s("input",{attrs:{type:"file",name:"audiofile"},on:{change:t.bindFile}}),t._v(" "),s("a",{staticClass:"button is-success",on:{click:t.updateAudio}},[t._v("Загрузить аудио")]),t._v(" "),s("a",{staticClass:"button is-success",on:{click:t.updateTranslate}},[t._v("Сохранить")]),t._v(" "),s("a",{staticClass:"button is-warning",on:{click:t.close}},[t._v("Отмена")])])])])])},staticRenderFns:[]}},549:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,i=s(521),n=(a=i)&&a.__esModule?a:{default:a};e.default={props:["card","index"],components:{Modal:n.default},data:function(){return{settingsModal:!1}},methods:{showSettingsModal:function(){this.settingsModal=!0},closeSettingsModal:function(){this.settingsModal=!1},play:function(){this.$refs.audio.play()}}}},550:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("span",{staticClass:"asset_title"},[t._v(t._s(t.card.word.word))])]),t._v(" "),s("div",{staticClass:"column"},[t.card.translate?s("p",{staticClass:"is-pulled-left has-text-dark"},[t._v(t._s(t.card.translate.value))]):t._e(),t._v(" "),t.card.word.variants>1?s("span",{staticClass:"is-pulled-right has-text-light"},[t._v("("+t._s(t.card.word.variants)+")")]):t._e()]),t._v(" "),s("div",{staticClass:"column"},[s("audio",{ref:"audio",attrs:{src:t.card.word.audio,preload:"auto"}}),t._v(" "),s("a",{class:["button","is-small",{danger:!t.card.word.audio}],on:{click:t.play}},[t._m(0)]),t._v(" "),s("a",{class:["button","is-small"],on:{click:t.showSettingsModal}},[t._m(1)]),t._v(" "),s("a",{class:["button","is-danger","is-small"],on:{click:function(e){t.$emit("remove",{card:t.card,index:t.index})}}},[t._m(2)])]),t._v(" "),s("modal",{attrs:{visible:t.settingsModal,card:t.card,index:t.index},on:{close:t.closeSettingsModal}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon"},[e("i",{staticClass:"fa fa-volume-up"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon"},[e("i",{staticClass:"fa fa-pencil"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon"},[e("i",{staticClass:"fa fa-trash-o"})])}]}}});
//# sourceMappingURL=2.5ea9b60cdf81840cdcae.js.map