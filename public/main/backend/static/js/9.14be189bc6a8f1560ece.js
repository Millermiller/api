webpackJsonp([9],{510:function(t,e,n){var a=n(0)(n(531),n(532),null,null,null);t.exports=a.exports},531:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{articles:[],search:""}},mounted:function(){this.load()},methods:{load:function(){var t=this;this.$http.get("/admin/articles").then(function(e){t.articles=e.body},function(t){console.log(t)})},edit:function(t){this.$router.push({name:"Статья",params:{id:t.id}})},remove:function(t){var e=this;confirm("Удалить?")&&this.$http.delete("/admin/articles/"+t.id).then(function(t){204===t.status?(e.$snackbar.open("Статья удалена!"),e.load()):e.$snackbar.open("Ошибка!")},function(t){e.$snackbar.open("Ошибка!"),console.log(t)})},find:function(){var t=this;this.$http.get("/admin/articles/search?q="+this.search).then(function(e){t.articles=e.body},function(e){t.$snackbar.open("Ошибка!"),console.log(e)})}}}},532:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"tile is-ancestor"},[n("div",{staticClass:"tile is-parent"},[n("article",{staticClass:"tile is-child box"},[n("b-field",[n("b-input",{attrs:{placeholder:"Поиск...",type:"search",icon:"magnify"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),t._v(" "),n("p",{staticClass:"control"},[n("button",{staticClass:"button is-info",on:{click:t.find}},[t._v("Search")])])],1),t._v(" "),n("b-table",{attrs:{data:t.articles,paginated:"",narrowed:"",loading:t.loading,"per-page":"10"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("b-table-column",{attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:""}},[t._v("\n                            "+t._s(e.row.id)+"\n                        ")]),t._v(" "),n("b-table-column",{attrs:{field:"title",label:"Title",sortable:""}},[t._v("\n                            "+t._s(e.row.title)+"\n                        ")]),t._v(" "),n("b-table-column",{attrs:{field:"category.name",label:"Category",sortable:""}},[t._v("\n                            "+t._s(e.row.category.name)+"\n                        ")]),t._v(" "),n("b-table-column",{attrs:{field:"views",label:"Views",sortable:"",centered:""}},[t._v("\n                            "+t._s(e.row.views)+"\n                        ")]),t._v(" "),n("b-table-column",{attrs:{field:"comments",label:"comments",sortable:"",centered:""}},[t._v("\n                            "+t._s(e.row.comments.length)+"\n                        ")]),t._v(" "),n("b-table-column",{attrs:{field:"status",label:"status",sortable:"",centered:""}},[t._v("\n                            "+t._s(e.row.status)+"\n                        ")]),t._v(" "),n("b-table-column",{attrs:{field:"created_at",label:"created_at",sortable:"",centered:""}},[n("span",{staticClass:"tag",class:["light"]},[t._v("\n                                "+t._s(new Date(e.row.created_at).toLocaleDateString())+"\n                            ")])]),t._v(" "),n("b-table-column",{attrs:{"custom-key":"actions"}},[n("button",{staticClass:"button  is-warning",on:{click:function(n){t.edit(e.row)}}},[n("b-icon",{attrs:{icon:"account-edit",size:"is-small"}})],1),t._v(" "),n("button",{staticClass:"button  is-danger",on:{click:function(n){t.remove(e.row)}}},[n("b-icon",{attrs:{icon:"account-remove",size:"is-small"}})],1)])]}}])})],1)])])])},staticRenderFns:[]}}});
//# sourceMappingURL=9.14be189bc6a8f1560ece.js.map