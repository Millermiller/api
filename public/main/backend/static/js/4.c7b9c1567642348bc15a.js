webpackJsonp([4],{514:function(t,n,e){var o=e(0)(e(539),e(540),null,null,null);t.exports=o.exports},539:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={data:function(){return{plans:[],loading:!1}},components:{},mounted:function(){this.load()},methods:{load:function(){var t=this;this.loading=!0,this.$http.get("/admin/plan").then(function(n){t.plans=n.body,t.loading=!1},function(t){console.log(t)})},edit:function(t){this.$router.push({name:"Тариф",params:{id:t.id}})},add:function(){this.$router.push({name:"Добавить тариф"})},remove:function(t){var n=this;confirm("Удалить?")&&this.$http.delete("/admin/plans/"+t.id).then(function(t){204===t.status?(n.$snackbar.open("Тариф удален!"),n.load()):n.$snackbar.open("Ошибка!")},function(t){n.$snackbar.open("Ошибка!"),console.log(t)})}}}},540:function(t,n){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",{staticClass:"tile is-ancestor"},[e("div",{staticClass:"tile is-parent"},[e("article",{staticClass:"tile is-child box"},[e("div",{staticClass:"tile is-parent"},[e("a",{staticClass:"button is-success",on:{click:t.add}},[t._v("Добавить")])]),t._v(" "),e("b-table",{attrs:{data:t.plans,paginated:"",narrowed:"",loading:t.loading,"per-page":"10"},scopedSlots:t._u([{key:"default",fn:function(n){return[e("b-table-column",{attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:""}},[t._v("\n                            "+t._s(n.row.id)+"\n                        ")]),t._v(" "),e("b-table-column",{attrs:{field:"name",label:"name",width:"90"}},[t._v("\n                            "+t._s(n.row.name)+"\n                        ")]),t._v(" "),e("b-table-column",{attrs:{field:"period",label:"period",sortable:""}},[t._v("\n                            "+t._s(n.row.period)+"\n                        ")]),t._v(" "),e("b-table-column",{attrs:{field:"cost",label:"cost",sortable:""}},[t._v("\n                            "+t._s(n.row.cost)+"\n                        ")]),t._v(" "),e("b-table-column",{attrs:{field:"cost_per_month",label:"cost_per_month",sortable:""}},[t._v("\n                            "+t._s(n.row.cost_per_month)+"\n                        ")]),t._v(" "),e("b-table-column",{attrs:{"custom-key":"actions"}},[e("button",{staticClass:"button  is-warning",on:{click:function(e){t.edit(n.row)}}},[e("b-icon",{attrs:{icon:"account-edit",size:"is-small"}})],1),t._v(" "),e("button",{staticClass:"button  is-danger",on:{click:function(e){t.remove(n.row)}}},[e("b-icon",{attrs:{icon:"account-remove",size:"is-small"}})],1)])]}}])})],1)])])])},staticRenderFns:[]}}});
//# sourceMappingURL=4.c7b9c1567642348bc15a.js.map