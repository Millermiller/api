webpackJsonp([4],{507:function(t,e,n){var s=n(0)(n(528),n(529),null,null,null);t.exports=s.exports},528:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{messages:[],loading:!1,defaultSortDirection:"desc"}},components:{},mounted:function(){this.load()},methods:{load:function(){var t=this;this.loading=!0,this.$http.get("/admin/messages").then(function(e){t.messages=e.body,t.loading=!1},function(t){console.log(t)})},see:function(t){},remove:function(t){var e=this;this.$http.delete("/admin/messages/"+t.id).then(function(t){204===t.status?(e.$snackbar.open("Сообщение удалено!"),e.load()):e.$snackbar.open("Ошибка!")},function(t){e.$snackbar.open("Ошибка!"),console.log(t)})}}}},529:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"tile is-ancestor"},[n("div",{staticClass:"tile is-parent"},[n("article",{staticClass:"tile is-child box"},[n("b-table",{attrs:{data:t.messages,paginated:"",narrowed:"",loading:t.loading,"default-sort-direction":t.defaultSortDirection,"default-sort":"id","per-page":"10"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("b-table-column",{attrs:{field:"id",label:"ID",width:"40",sortable:"",numeric:""}},[t._v("\n                            "+t._s(e.row.id)+"\n                        ")]),t._v(" "),n("b-table-column",{attrs:{field:"name",label:"name",width:"90"}},[t._v("\n                            "+t._s(e.row.name)+"\n                        ")]),t._v(" "),n("b-table-column",{attrs:{field:"message",label:"message",sortable:""}},[t._v("\n                            "+t._s(e.row.message)+"\n                        ")]),t._v(" "),n("b-table-column",{attrs:{field:"readed",label:"readed",sortable:""}},[t._v("\n                            "+t._s(e.row.readed)+"\n                        ")]),t._v(" "),n("b-table-column",{attrs:{"custom-key":"actions"}},[n("button",{staticClass:"button  is-warning",on:{click:function(n){t.see(e.row)}}},[n("b-icon",{attrs:{icon:"account-edit",size:"is-small"}})],1),t._v(" "),n("button",{staticClass:"button  is-danger",on:{click:function(n){t.remove(e.row)}}},[n("b-icon",{attrs:{icon:"account-remove",size:"is-small"}})],1)])]}}])})],1)])])])},staticRenderFns:[]}}});
//# sourceMappingURL=4.ef9ed97be1f4a0d8b051.js.map